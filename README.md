# Gemini Text Structurer

ĞœĞ¾Ğ´ĞµÑ€Ğ½Ğ¸Ğ¹ full-stack Ğ·Ğ°ÑÑ‚Ğ¾ÑÑƒĞ½Ğ¾Ğº Ğ´Ğ»Ñ Ğ¿ĞµÑ€ĞµÑ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ½Ñ Ğ½ĞµÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ¾Ğ²Ğ°Ğ½Ğ¾Ğ³Ğ¾ Ñ‚ĞµĞºÑÑ‚Ñƒ Ñƒ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¹ JSON Ğ·Ğ° Ğ´Ğ¾Ğ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ¾Ñ Google Gemini AI.

## ĞœĞ¾Ğ¶Ğ»Ğ¸Ğ²Ğ¾ÑÑ‚Ñ–
- ÑÑƒÑ‡Ğ°ÑĞ½Ğ¸Ğ¹ Ñ–Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ Ğ½Ğ° React + TypeScript Ğ· Ñ‚ĞµĞ¼Ğ½Ğ¾Ñ Ñ‚ĞµĞ¼Ğ¾Ñ
- Ğ°ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ğ¸Ğ¹ FastAPI backend Ñ–Ğ· ÑÑƒĞ²Ğ¾Ñ€Ğ¾Ñ Ğ¼Ğ¾Ğ´ÑƒĞ»ÑŒĞ½Ñ–ÑÑ‚Ñ
- Ñ–Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ñ–Ñ Ğ· Gemini CLI (flash Ñ‚Ğ° pro Ğ¼Ğ¾Ğ´ĞµĞ»Ñ–)
- Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğ° Ğ²Ğ°Ğ»Ñ–Ğ´Ğ°Ñ†Ñ–Ñ JSON Ñ‡ĞµÑ€ĞµĞ· Pydantic
- ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ¸Ğ·Ğ°Ñ†Ñ–Ñ Docker Compose
- Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ñ– ÑÑ†ĞµĞ½Ğ°Ñ€Ñ–Ñ— ĞºĞ¾Ğ¿Ñ–ÑĞ²Ğ°Ğ½Ğ½Ñ/Ğ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ–Ğ²

## ĞÑ€Ñ…Ñ–Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend      â”‚  HTTP   â”‚     Backend      â”‚  CLI    â”‚  Gemini AI     â”‚
â”‚   (React+TS)    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚    (FastAPI)     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  (Google)      â”‚
â”‚   Port: 3000    â”‚         â”‚    Port: 8000    â”‚         â”‚                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                            â”‚
        â”‚    Nginx Reverse Proxy     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ñ–Ñ‡Ğ½Ğ¸Ğ¹ ÑÑ‚ĞµĞº

**Frontend**: React 18, TypeScript (strict mode), Vite, Nginx (production)

**Backend**: FastAPI 0.115+, Python 3.12, Pydantic v2, asyncio

**Ğ†Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°**: Docker Compose, Gemini CLI (npm), multi-stage Dockerfile

## Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾Ñ”ĞºÑ‚Ñƒ

```
Gemini CLI/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/              # REST endpoints
â”‚   â”‚   â”œâ”€â”€ core/             # Config & exceptions
â”‚   â”‚   â”œâ”€â”€ models/           # Pydantic schemas
â”‚   â”‚   â”œâ”€â”€ services/         # Business logic
â”‚   â”‚   â””â”€â”€ main.py           # FastAPI app
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â””â”€â”€ requirements.txt
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â”œâ”€â”€ styles/
â”‚   â”‚   â”œâ”€â”€ App.tsx
â”‚   â”‚   â””â”€â”€ main.tsx
â”‚   â”œâ”€â”€ nginx.conf
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ .env
â””â”€â”€ README.md
```

## Ğ¨Ğ²Ğ¸Ğ´ĞºĞ¸Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚

### ĞŸĞµÑ€ĞµĞ´ÑƒĞ¼Ğ¾Ğ²Ğ¸
- Docker Desktop (Windows)
- ĞĞ°Ğ»Ğ°ÑˆÑ‚Ğ¾Ğ²Ğ°Ğ½Ñ– Ğ¾Ğ±Ğ»Ñ–ĞºĞ¾Ğ²Ñ– Ğ´Ğ°Ğ½Ñ– Gemini CLI (`gemini configure` Ñƒ Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ñ–Ğ¹ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ–)
- Google Cloud Project ID

### ĞšĞ»Ğ¾Ğ½ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ñ‚Ğ° Ğ¿Ğ¾Ñ‡Ğ°Ñ‚ĞºĞ¾Ğ²Ğµ Ğ½Ğ°Ğ»Ğ°ÑˆÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ

```powershell
git clone <repo-url>
cd "Gemini CLI"

# Ğ¡ĞºĞ¾Ğ¿Ñ–ÑĞ²Ğ°Ñ‚Ğ¸ ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½ ĞºĞ¾Ğ½Ñ„Ñ–Ğ³ÑƒÑ€Ğ°Ñ†Ñ–Ñ—
Copy-Item env.example .env

# Ğ’Ñ–Ğ´ĞºÑ€Ğ¸Ñ‚Ğ¸ Ğ´Ğ»Ñ Ñ€ĞµĞ´Ğ°Ğ³ÑƒĞ²Ğ°Ğ½Ğ½Ñ
notepad .env
```

### ĞšĞ¾Ğ½Ñ„Ñ–Ğ³ÑƒÑ€Ğ°Ñ†Ñ–Ñ `.env`

Ğ—Ğ°Ğ¿Ğ¾Ğ²Ğ½Ñ–Ñ‚ÑŒ ĞºĞ»ÑÑ‡Ğ¾Ğ²Ñ– Ğ·Ğ¼Ñ–Ğ½Ğ½Ñ– ÑĞµÑ€ĞµĞ´Ğ¾Ğ²Ğ¸Ñ‰Ğ°:

```ini
HOST_GEMINI_DIR=C:\Users\YourUser\.gemini
GEMINI_CLI=gemini
GEMINI_MODEL=gemini-2.5-flash
GEMINI_MODELS=gemini-2.5-flash,gemini-2.5-pro
GOOGLE_CLOUD_PROJECT=your-gcp-project-id
API_PORT=8000
FRONTEND_PORT=3000
VITE_GEMINI_MODEL=gemini-2.5-flash
```

> **ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ° ĞºĞ¾Ğ½Ñ„Ñ–Ğ³ÑƒÑ€Ğ°Ñ†Ñ–Ñ— Ğ¼Ğ¾Ğ´ĞµĞ»ĞµĞ¹**
> - `GEMINI_MODEL` â€” Ğ´ĞµÑ„Ğ¾Ğ»Ñ‚Ğ½Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ½Ñ Ğ´Ğ»Ñ Ğ±ĞµĞºĞµĞ½Ğ´Ñƒ, ÑĞºÑ‰Ğ¾ Ğ·Ğ°Ğ¿Ğ¸Ñ‚ Ğ½Ğµ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ñ” `model`.
> - `GEMINI_MODELS` â€” ÑĞ¿Ğ¸ÑĞ¾Ğº Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¸Ñ… Ğ¼Ğ¾Ğ´ĞµĞ»ĞµĞ¹ Ñ‡ĞµÑ€ĞµĞ· ĞºĞ¾Ğ¼Ñƒ. ĞœĞ¾Ğ¶Ğµ Ğ¼Ñ–ÑÑ‚Ğ¸Ñ‚Ğ¸ Ğ¾Ğ´Ğ½Ñƒ Ğ°Ğ±Ğ¾ ĞºÑ–Ğ»ÑŒĞºĞ° Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ñ–Ğ¹ (Ğ½Ğ°Ğ¿Ñ€Ğ¸ĞºĞ»Ğ°Ğ´, `gemini-2.5-flash,gemini-2.5-pro`).
> - `VITE_GEMINI_MODEL` â€” Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒ, Ğ¿Ğ¾Ğ¿ĞµÑ€ĞµĞ´Ğ½ÑŒĞ¾ Ğ¾Ğ±Ñ€Ğ°Ğ½Ğ° Ñƒ UI; Ğ²Ğ¾Ğ½Ğ° Ğ¼Ğ°Ñ” Ğ²Ñ…Ğ¾Ğ´Ğ¸Ñ‚Ğ¸ Ğ´Ğ¾ `GEMINI_MODELS`.
> - ĞŸÑ–Ğ´Ñ‚Ñ€Ğ¸Ğ¼ÑƒĞ¹Ñ‚Ğµ ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ñ–Ğ·Ğ°Ñ†Ñ–Ñ Ñ†Ğ¸Ñ… Ñ‚Ñ€ÑŒĞ¾Ñ… Ğ·Ğ¼Ñ–Ğ½Ğ½Ğ¸Ñ… Ğ¿Ñ€Ğ¸ Ğ´Ğ¾Ğ´Ğ°Ğ²Ğ°Ğ½Ğ½Ñ–/Ğ²Ğ¸Ğ´Ğ°Ğ»ĞµĞ½Ğ½Ñ– Ğ¼Ğ¾Ğ´ĞµĞ»ĞµĞ¹.

### Ğ—Ğ°Ğ¿ÑƒÑĞº Ñƒ Docker

```powershell
# ĞŸĞ¾Ğ²Ğ½Ğ° Ğ·Ğ±Ñ–Ñ€ĞºĞ° Ğ¾Ğ±Ñ€Ğ°Ğ·Ñ–Ğ²
docker compose build --no-cache

# Ğ¡Ñ‚Ğ°Ñ€Ñ‚ ÑĞµÑ€Ğ²Ñ–ÑÑ–Ğ²
docker compose up -d

# ĞŸĞµÑ€ĞµĞ³Ğ»ÑĞ´ Ğ»Ğ¾Ğ³Ñ–Ğ²
docker compose logs -f
```

### Ğ”Ğ¾ÑÑ‚ÑƒĞ¿ Ğ´Ğ¾ Ğ·Ğ°ÑÑ‚Ğ¾ÑÑƒĞ½ĞºÑƒ
- Frontend: http://localhost:3000
- Backend health: http://localhost:3000/api/health
- Swagger UI: http://localhost:3000/api/docs

## Ğ’Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ğ½Ğ½Ñ

### Ğ’ĞµĞ±-Ñ–Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ
1. Ğ’Ñ–Ğ´ĞºÑ€Ğ¸Ğ¹Ñ‚Ğµ Ñ„Ñ€Ğ¾Ğ½Ñ‚ĞµĞ½Ğ´ Ñƒ Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ñ–.
2. Ğ’ÑÑ‚Ğ°Ğ²Ñ‚Ğµ Ğ½ĞµÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¹ Ñ‚ĞµĞºÑÑ‚.
3. Ğ—Ğ° Ğ¿Ğ¾Ñ‚Ñ€ĞµĞ±Ğ¸ Ğ¾Ğ±ĞµÑ€Ñ–Ñ‚ÑŒ Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒ Ñƒ *Advanced Settings*.
4. ĞĞ°Ñ‚Ğ¸ÑĞ½Ñ–Ñ‚ÑŒ **Structure Text** Ñ– Ğ´Ğ¾Ñ‡ĞµĞºĞ°Ğ¹Ñ‚ĞµÑÑ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñƒ.
5. ĞšĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ¹Ñ‚ĞµÑÑ ĞºĞ½Ğ¾Ğ¿ĞºĞ°Ğ¼Ğ¸ **Copy** Ğ°Ğ±Ğ¾ **Download** Ğ´Ğ»Ñ ĞµĞºÑĞ¿Ğ¾Ñ€Ñ‚Ñƒ JSON.

### API

**Health Check**

```bash
curl http://localhost:3000/api/health
```

**Structure Text**

```powershell
$body = @{
    text = "ĞĞµÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¹ Ñ‚ĞµĞºÑÑ‚ Ğ¿Ñ€Ğ¾ AI..."
    model = "gemini-2.5-pro"
} | ConvertTo-Json -Compress

Invoke-RestMethod -Uri http://localhost:3000/api/structure `
    -Method Post `
    -ContentType "application/json; charset=utf-8" `
    -Body $body
```

## Ğ Ğ¾Ğ·Ñ€Ğ¾Ğ±ĞºĞ°

### Backend

```powershell
docker compose exec backend bash
pytest  # ĞºĞ¾Ğ»Ğ¸ Ñ‚ĞµÑÑ‚Ğ¸ Ğ±ÑƒĞ´ÑƒÑ‚ÑŒ Ğ´Ğ¾Ğ´Ğ°Ğ½Ñ–
docker compose logs -f backend
```

### Frontend

```powershell
cd frontend
npm install
npm run dev
# Ğ°Ğ±Ğ¾ Ğ²ÑĞµÑ€ĞµĞ´Ğ¸Ğ½Ñ– ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ°
docker compose exec frontend sh
```

### ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ° Ğ·Ğ±Ñ–Ñ€ĞºĞ¸

ĞŸĞµÑ€ĞµĞ´ ĞºĞ¾Ğ¶Ğ½Ğ¸Ğ¼ PR/ĞºĞ¾Ğ¼Ñ–Ñ‚Ğ¾Ğ¼ Ñ„Ñ€Ğ¾Ğ½Ñ‚ĞµĞ½Ğ´Ñƒ Ğ²Ğ¸ĞºĞ¾Ğ½ÑƒĞ¹Ñ‚Ğµ Ğ¿Ñ€Ğ¾Ğ´Ğ°ĞºÑˆĞ½-Ğ·Ğ±Ñ–Ñ€ĞºÑƒ:

```powershell
npm run build
```

Ğ¦ĞµĞ¹ ÑĞ°Ğ¼Ğ¸Ğ¹ ĞºÑ€Ğ¾Ğº Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒÑ”Ñ‚ÑŒÑÑ Ğ´Ğ¾Ğ´Ğ°Ñ‚Ğ¸ Ğ² CI, Ñ‰Ğ¾Ğ± Ğ²Ğ¸ÑĞ²Ğ»ÑÑ‚Ğ¸ `tsc`/Vite-Ğ¿Ğ¾Ğ¼Ğ¸Ğ»ĞºĞ¸ Ñ‚Ğ° Ğ½ĞµĞ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ğ½Ñ– ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¸.

## Ğ¢ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ

**Backend**

```bash
pytest backend/tests/
pytest backend/tests/integration/
pytest --cov=app --cov-report=html
```

**Frontend**

```bash
npm test
npm run test:e2e
```

## Ğ£ÑÑƒĞ½ĞµĞ½Ğ½Ñ Ğ½ĞµÑĞ¿Ñ€Ğ°Ğ²Ğ½Ğ¾ÑÑ‚ĞµĞ¹
- *Model '...'' is not allowed* â€” Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€Ñ‚Ğµ, Ñ‰Ğ¾ Ğ²Ğ¸Ğ±Ñ€Ğ°Ğ½Ğ° Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒ Ğ´Ğ¾Ğ´Ğ°Ğ½Ğ° Ğ´Ğ¾ `GEMINI_MODELS` Ñ– ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€ Ğ¿ĞµÑ€ĞµĞ·Ñ–Ğ±Ñ€Ğ°Ğ½Ğ¸Ğ¹.
- CLI timeout â€” Ğ·Ğ±Ñ–Ğ»ÑŒÑˆÑ–Ñ‚ÑŒ `gemini_timeout` Ñƒ `backend/app/core/config.py` Ñ‚Ğ° Ñ€ĞµÑÑ‚Ğ°Ñ€Ñ‚ÑƒĞ¹Ñ‚Ğµ Ğ±ĞµĞºĞµĞ½Ğ´.
- ĞĞµĞ¼Ğ°Ñ” Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ñƒ Ğ´Ğ¾ Gemini â€” Ğ¿ĞµÑ€ĞµĞºĞ¾Ğ½Ğ°Ğ¹Ñ‚ĞµÑÑ, Ñ‰Ğ¾ Ğ¾Ğ±Ğ»Ñ–ĞºĞ¾Ğ²Ñ– Ğ´Ğ°Ğ½Ñ– Ğ·Ğ¼Ğ¾Ğ½Ñ‚Ğ¾Ğ²Ğ°Ğ½Ñ– Ñƒ `HOST_GEMINI_DIR` Ñ‚Ğ° Ñ„Ğ»Ğ°Ğ³ `GEMINI_CLI` Ğ²ĞºĞ°Ğ·ÑƒÑ” Ğ½Ğ° Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñƒ CLI.

## ĞœĞ¾Ğ½Ñ–Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ Ñ‚Ğ° Ğ»Ğ¾Ğ³Ğ¸

```powershell
# Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ñ–Ğ²
docker compose ps

# Health-Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ¸ Ğ²ÑĞµÑ€ĞµĞ´Ğ¸Ğ½Ñ– ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ñ–Ğ²
docker compose exec backend curl http://localhost:8000/health
docker compose exec frontend wget -q -O- http://localhost:80

# ĞŸĞ¾Ñ‚Ğ¾Ñ‡Ğ½Ñ– Ğ»Ğ¾Ğ³Ğ¸
docker compose logs -f
docker compose logs -f backend
docker compose logs -f frontend
```

## Ğ—Ğ±ĞµÑ€ĞµĞ¶ĞµĞ½Ğ½Ñ Ğ´Ğ°Ğ½Ğ¸Ñ…
Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¸ Ğ·Ğ±ĞµÑ€Ñ–Ğ³Ğ°ÑÑ‚ÑŒÑÑ Ñƒ volume `backend-data`.

```powershell
docker volume ls
docker volume inspect gemini-cli_backend-data
docker run --rm -v gemini-cli_backend-data:/data -v ${PWD}:/backup alpine `
  tar czf /backup/data-backup.tar.gz /data
```

## Ğ‘ĞµĞ·Ğ¿ĞµĞºĞ°
- Ğ·Ğ°Ğ¿ÑƒÑĞº ÑĞµÑ€Ğ²Ñ–ÑÑ–Ğ² Ğ¿Ñ–Ğ´ non-root ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡ĞµĞ¼ Ñƒ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ°Ñ…
- Ğ¼Ğ¾Ğ½Ñ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ credential-Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ñ–Ğ¹ Ğ»Ğ¸ÑˆĞµ Ğ² Ñ€ĞµĞ¶Ğ¸Ğ¼Ñ– read-only
- CORS Ğ½Ğ°Ğ»Ğ°ÑˆÑ‚Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¹ Ğ¿Ñ–Ğ´ Ñ„Ñ€Ğ¾Ğ½Ñ‚ĞµĞ½Ğ´
- Ğ²Ğ¸Ğ½ÑÑ‚ĞºĞ¸ Ñ‚Ğ° Ğ»Ğ¾Ğ³ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ±ĞµĞ· Ñ‡ÑƒÑ‚Ğ»Ğ¸Ğ²Ğ¸Ñ… Ğ´Ğ°Ğ½Ğ¸Ñ…
- Pydantic Ğ³Ğ°Ñ€Ğ°Ğ½Ñ‚ÑƒÑ” Ğ²Ğ°Ğ»Ñ–Ğ´Ğ°Ñ†Ñ–Ñ Ğ²Ğ²ĞµĞ´ĞµĞ½Ğ½Ñ

## Ğ’Ğ½ĞµÑĞ¾Ğº
1. Ğ”Ğ¾Ñ‚Ñ€Ğ¸Ğ¼ÑƒĞ¹Ñ‚ĞµÑÑ SOLID Ñ‚Ğ° Ğ°ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ğ¸Ñ… Ğ¿Ñ€Ğ°ĞºÑ‚Ğ¸Ğº.
2. ĞŸĞ¸ÑˆÑ–Ñ‚ÑŒ Ñ‚Ğ¸Ğ¿Ğ¸ (Python typing / TypeScript strict).
3. Ğ”Ğ¾Ğ´Ğ°Ğ²Ğ°Ğ¹Ñ‚Ğµ Ñ‚ĞµÑÑ‚Ğ¸ Ğ´Ğ»Ñ Ğ½Ğ¾Ğ²Ğ¾Ñ— Ğ»Ğ¾Ğ³Ñ–ĞºĞ¸.
4. ĞĞ½Ğ¾Ğ²Ğ»ÑĞ¹Ñ‚Ğµ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ñ–Ñ Ñ‚Ğ° Ğ¿Ñ€Ğ¸ĞºĞ»Ğ°Ğ´Ğ¸.
5. ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€ÑĞ¹Ñ‚Ğµ `npm run build` Ğ¿ĞµÑ€ĞµĞ´ ÑÑ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ½ÑĞ¼ PR.

## Ğ›Ñ–Ñ†ĞµĞ½Ğ·Ñ–Ñ
MIT License

---

**Ğ’ĞµÑ€ÑÑ–Ñ:** 2.0.0  
**ĞÑÑ‚Ğ°Ğ½Ğ½Ñ” Ğ¾Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ:** 1 Ğ»Ğ¸ÑÑ‚Ğ¾Ğ¿Ğ°Ğ´Ğ° 2025 Ñ€Ğ¾ĞºÑƒ
# Gemini Text Structurer

Modern full-stack application for structuring unstructured text using Google Gemini AI.

## ğŸš€ Features

- **Modern Web Interface** - React + TypeScript with beautiful dark theme UI
- **FastAPI Backend** - Async-first, modular architecture with SOLID principles
- **Gemini AI Integration** - Powered by gemini-2.5-flash (optimal for free tier)
- **JSON Validation** - Automatic schema validation with Pydantic
- **Docker Compose** - Full containerized deployment
- **Real-time Processing** - Async operations with loading states
- **Copy & Download** - Export structured results as JSON

## ğŸ“‹ Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend      â”‚  HTTP   â”‚     Backend      â”‚  CLI    â”‚  Gemini AI     â”‚
â”‚   (React+TS)    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚    (FastAPI)     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  (Google)      â”‚
â”‚   Port: 3000    â”‚         â”‚    Port: 8000    â”‚         â”‚                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                            â”‚
        â”‚    Nginx Reverse Proxy     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Stack

**Frontend:**
- React 18
- TypeScript (strict mode)
- Vite (build tool)
- Nginx (production server)

**Backend:**
- FastAPI 0.115+
- Python 3.12
- Pydantic v2 (validation)
- Async/await patterns

**Infrastructure:**
- Docker Compose
- Gemini CLI (npm global)
- Multi-stage builds

## ğŸ¯ Project Structure

```
Gemini CLI/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/              # REST endpoints
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â””â”€â”€ routes.py
â”‚   â”‚   â”œâ”€â”€ core/             # Config & exceptions
â”‚   â”‚   â”‚   â”œâ”€â”€ config.py
â”‚   â”‚   â”‚   â””â”€â”€ exceptions.py
â”‚   â”‚   â”œâ”€â”€ models/           # Pydantic schemas
â”‚   â”‚   â”‚   â””â”€â”€ schemas.py
â”‚   â”‚   â”œâ”€â”€ services/         # Business logic
â”‚   â”‚   â”‚   â””â”€â”€ gemini_service.py
â”‚   â”‚   â””â”€â”€ main.py           # FastAPI app
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â””â”€â”€ requirements.txt
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/       # React components
â”‚   â”‚   â”‚   â”œâ”€â”€ TextInput.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ JsonViewer.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ErrorMessage.tsx
â”‚   â”‚   â”œâ”€â”€ services/         # API client
â”‚   â”‚   â”‚   â””â”€â”€ api.ts
â”‚   â”‚   â”œâ”€â”€ types/            # TypeScript types
â”‚   â”‚   â”‚   â””â”€â”€ api.ts
â”‚   â”‚   â”œâ”€â”€ styles/
â”‚   â”‚   â”‚   â””â”€â”€ App.css
â”‚   â”‚   â”œâ”€â”€ App.tsx
â”‚   â”‚   â””â”€â”€ main.tsx
â”‚   â”œâ”€â”€ nginx.conf
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ .env
â””â”€â”€ README.md
```

## ğŸ› ï¸ Setup & Installation

### Prerequisites

- Docker Desktop (Windows)
- Google Gemini credentials in `C:\Users\<YourUser>\.gemini`
- Google Cloud Project ID

### 1. Clone & Configure

```powershell
# Copy environment template
Copy-Item .env.new .env

# Edit .env with your settings
notepad .env
```

**Required `.env` variables:**

```ini
HOST_GEMINI_DIR=C:\Users\YourUser\.gemini
GEMINI_CLI=gemini
GEMINI_MODEL=gemini-2.5-flash
GEMINI_MODELS=gemini-2.5-flash
GOOGLE_CLOUD_PROJECT=your-gcp-project-id
API_PORT=8000
FRONTEND_PORT=3000
VITE_GEMINI_MODEL=gemini-2.5-flash
```

> â„¹ï¸ **Model configuration**
> - `GEMINI_MODEL` â€” Ğ´ĞµÑ„Ğ¾Ğ»Ñ‚Ğ½Ğ¸Ğ¹ Ğ±ĞµĞºĞµĞ½Ğ´-Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒ, ĞºĞ¾Ğ»Ğ¸ ĞºĞ»Ñ–Ñ”Ğ½Ñ‚ Ğ½Ğµ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ñ” `model` Ñƒ Ğ·Ğ°Ğ¿Ğ¸Ñ‚Ñ–.
> - `GEMINI_MODELS` â€” ÑĞ¿Ğ¸ÑĞ¾Ğº Ğ´Ğ¾Ğ·Ğ²Ğ¾Ğ»ĞµĞ½Ğ¸Ñ… Ğ¼Ğ¾Ğ´ĞµĞ»ĞµĞ¹ Ñ‡ĞµÑ€ĞµĞ· ĞºĞ¾Ğ¼Ñƒ. ĞšĞ¾Ğ¶Ğ½Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ½Ñ Ğ¼Ğ°Ñ” Ğ±ÑƒÑ‚Ğ¸ Ğ²Ğ°Ğ»Ñ–Ğ´Ğ½Ğ¾Ñ Ğ¼Ğ¾Ğ´ĞµĞ»Ğ»Ñ Gemini Ñ– Ğ·Ğ±Ñ–Ğ³Ğ°Ñ‚Ğ¸ÑÑ Ğ·Ñ– ÑĞ¿Ğ¸ÑĞºĞ¾Ğ¼ Ñƒ UI.
> - `VITE_GEMINI_MODEL` â€” Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒ, Ğ¿Ğ¾Ğ¿ĞµÑ€ĞµĞ´Ğ½ÑŒĞ¾ Ğ¾Ğ±Ñ€Ğ°Ğ½Ğ° Ñƒ Ñ„Ñ€Ğ¾Ğ½Ñ‚ĞµĞ½Ğ´Ñ–; Ğ²Ğ¾Ğ½Ğ° Ğ¼Ğ°Ñ” Ğ²Ñ…Ğ¾Ğ´Ğ¸Ñ‚Ğ¸ Ğ´Ğ¾ `GEMINI_MODELS`.
> - Ğ¯ĞºÑ‰Ğ¾ Ğ²Ğ¼Ğ¸ĞºĞ°Ñ”Ñ‚Ğµ/Ğ²Ğ¸Ğ¼Ğ¸ĞºĞ°Ñ”Ñ‚Ğµ Ğ¼Ğ¾Ğ´ĞµĞ»Ñ–, Ğ¾Ğ½Ğ¾Ğ²Ğ»ÑĞ¹Ñ‚Ğµ Ğ¾Ğ´Ğ½Ğ¾Ñ‡Ğ°ÑĞ½Ğ¾ Ğ²ÑÑ– Ñ‚Ñ€Ğ¸ Ğ·Ğ¼Ñ–Ğ½Ğ½Ñ–.

### 2. Build & Run

```powershell
# Build all services
docker compose build --no-cache

# Start services
docker compose up -d

# Check logs
docker compose logs -f
```

### 3. Access Application

- **Frontend:** http://localhost:3000
- **Backend API:** http://localhost:3000/api/health
- **API Docs:** http://localhost:3000/api/docs

## ğŸ“– Usage

### Web Interface

1. Open http://localhost:3000
2. Paste unstructured text in the textarea
3. (Optional) Configure model in Advanced Settings
4. Click "Structure Text"
5. View structured result with:
   - Title, date, summary, tags
   - Sections with content
   - Copy to clipboard or download JSON

### API Endpoints

#### Health Check

```bash
curl http://localhost:3000/api/health
```

Response:
```json
{"status": "ok", "service": "gemini-text-structurer"}
```

#### Structure Text

```powershell
$body = @{
    text = "ĞĞµÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¹ Ñ‚ĞµĞºÑÑ‚ Ğ¿Ñ€Ğ¾ AI..."
    model = "gemini-2.5-flash"
} | ConvertTo-Json -Compress

Invoke-RestMethod -Uri http://localhost:3000/api/structure `
    -Method Post `
    -ContentType "application/json; charset=utf-8" `
    -Body $body
```

Response:
```json
{
  "id": "abc123...",
  "json_path": "data/abc123.json",
  "data": {
    "title": "AI Overview",
    "date_iso": "2025-10-31",
    "summary": "...",
    "tags": ["AI", "ML"],
    "sections": [
      {"name": "Introduction", "content": "..."}
    ]
  }
}
```

## ğŸ”§ Development

### Backend Development

```powershell
# Enter backend container
docker compose exec backend bash

# Run tests (when implemented)
pytest

# Check logs
docker compose logs -f backend
```

### Custom Ports

Ğ¯ĞºÑ‰Ğ¾ Ğ¿Ğ¾Ñ‚Ñ€Ñ–Ğ±Ğ½Ğ¾ Ğ·Ğ¼Ñ–Ğ½Ğ¸Ñ‚Ğ¸ Ğ¿Ğ¾Ñ€Ñ‚Ğ¸:

```ini
# .env
API_PORT=9000        # Backend internal port
FRONTEND_PORT=8080   # Frontend external port
```

ĞŸÑ–ÑĞ»Ñ Ğ·Ğ¼Ñ–Ğ½Ğ¸:
```powershell
docker compose down
docker compose build
docker compose up -d
```

### Frontend Development

```powershell
# Local development (requires Node.js)
cd frontend
npm install
npm run dev

# Or use container
docker compose exec frontend sh
```

### Build Verification

ĞŸĞµÑ€ĞµĞ´ ĞºĞ¾Ğ¼Ñ–Ñ‚Ğ¾Ğ¼ Ñ„Ñ€Ğ¾Ğ½Ñ‚ĞµĞ½Ğ´Ñƒ Ğ¾Ğ±Ğ¾Ğ²'ÑĞ·ĞºĞ¾Ğ²Ğ¾ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°Ğ¹Ñ‚Ğµ Ğ¿Ñ€Ğ¾Ğ´Ğ°ĞºÑˆĞ½-Ğ·Ğ±Ñ–Ñ€ĞºÑƒ, Ñ‰Ğ¾Ğ± Ğ·Ğ»Ğ¾Ğ²Ğ¸Ñ‚Ğ¸ `tsc`/Vite-Ğ¿Ğ¾Ğ¼Ğ¸Ğ»ĞºĞ¸ Ğ´Ğ¾ CI:

```powershell
npm run build
```

Ğ¦ĞµĞ¹ ÑĞ°Ğ¼Ğ¸Ğ¹ ĞºÑ€Ğ¾Ğº Ğ²Ğ°Ñ€Ñ‚Ğ¾ Ğ´Ğ¾Ğ´Ğ°Ñ‚Ğ¸ Ğ´Ğ¾ Ğ¿Ğ°Ğ¹Ğ¿Ğ»Ğ°Ğ¹Ğ½Ñ–Ğ² CI, Ñ‰Ğ¾Ğ± Ğ¿Ğ¾Ğ¿ĞµÑ€ĞµĞ´Ğ¶Ğ°Ñ‚Ğ¸ Ğ¿Ñ€Ğ¾ Ğ½ĞµĞ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ğ½Ñ– Ğ·Ğ¼Ñ–Ğ½Ğ½Ñ– Ñ‡Ğ¸ Ğ¿Ğ¾Ğ¼Ğ¸Ğ»ĞºĞ¸ Ñ‚Ğ¸Ğ¿Ñ–Ğ² Ğ´Ğ¾ Ğ´ĞµĞ¿Ğ»Ğ¾Ñ.

### Hot Reload

Both services support hot reload in development:
- **Backend:** `/app/app` mounted as volume
- **Frontend:** Vite HMR through Nginx proxy

## ğŸ› Troubleshooting

### Backend Issues

**Error: `ProjectIdRequiredError`**
```powershell
# Ensure GOOGLE_CLOUD_PROJECT is set in .env
notepad .env
docker compose restart backend
```

**Error: CLI timeout**
```
# Increase timeout in backend/app/core/config.py
gemini_timeout: int = 120  # seconds
docker compose restart backend
```

### Frontend Issues

**Cannot connect to backend**
```powershell
# Check backend health
docker compose ps
curl http://localhost:3000/api/health

# Check nginx config
docker compose exec frontend cat /etc/nginx/conf.d/default.conf
```

**Build fails**
```powershell
# Clear cache and rebuild
docker compose down
docker compose build --no-cache frontend
docker compose up -d
```

## ğŸ§ª Testing

### Backend Tests

```bash
# Unit tests
pytest backend/tests/

# Integration tests
pytest backend/tests/integration/

# Coverage
pytest --cov=app --cov-report=html
```

### Frontend Tests

```bash
# Unit tests
npm test

# E2E tests (when implemented)
npm run test:e2e
```

## ğŸ“Š Monitoring

### Container Health

```powershell
# Check status
docker compose ps

# Health checks
docker compose exec backend curl http://localhost:8000/health
docker compose exec frontend wget -q -O- http://localhost:80
```

### Logs

```powershell
# All services
docker compose logs -f

# Specific service
docker compose logs -f backend
docker compose logs -f frontend

# Tail last 100 lines
docker compose logs --tail=100 backend
```

## ğŸš€ Deployment

### Production Build

```powershell
# Build production images
docker compose -f docker-compose.yml build

# Deploy
docker compose up -d

# Scale (if needed)
docker compose up -d --scale backend=3
```

### Environment Variables

Production `.env`:
```ini
HOST_GEMINI_DIR=C:\Production\.gemini
GEMINI_MODEL=gemini-2.5-pro
GOOGLE_CLOUD_PROJECT=production-project-id
FRONTEND_PORT=80
```

## ğŸ“¦ Data Persistence

Structured documents are saved in Docker volume `backend-data`:

```powershell
# List volumes
docker volume ls

# Inspect volume
docker volume inspect gemini-cli_backend-data

# Backup volume
docker run --rm -v gemini-cli_backend-data:/data -v ${PWD}:/backup alpine tar czf /backup/data-backup.tar.gz /data
```

## ğŸ”’ Security

- Non-root user in containers
- Read-only credential mounting
- CORS configured for frontend origin
- No sensitive data in logs
- Input validation with Pydantic
- Error sanitization in responses

## ğŸ¤ Contributing

1. Follow SOLID principles
2. Use async/await for I/O
3. Add type hints (Python) / strict types (TS)
4. Write tests for new features
5. Update documentation

## ğŸ“ License

MIT License

## ğŸ‘¤ Author

Created for structuring unstructured text via Gemini AI in modern containerized environment.

---

**Version:** 2.0.0  
**Last Updated:** October 31, 2025
